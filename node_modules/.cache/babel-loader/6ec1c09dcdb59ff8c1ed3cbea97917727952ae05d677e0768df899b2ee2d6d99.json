{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useState } from \"react\";\nconst useHttpFood = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const sendData = useCallback(async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n    let newData = arguments.length > 2 ? arguments[2] : undefined;\n    let headers = arguments.length > 3 ? arguments[3] : undefined;\n    let applyData = arguments.length > 4 ? arguments[4] : undefined;\n    setIsLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(url, {\n        method: method,\n        body: newData ? JSON.stringify(newData) : null,\n        headers: headers ? {\n          \"Content-Type\": \"application/json\"\n        } : {}\n      });\n      if (!res.ok) {\n        throw new Error(\"Request failed!\");\n      }\n      const data = await res.json();\n      applyData(data);\n    } catch (err) {\n      setError(err.message || \"Something went wrong!\");\n    }\n    setIsLoading(false);\n  }, []);\n  return [sendData, isLoading, error];\n};\n_s(useHttpFood, \"7r1HvBRWAxDxryrujfp4ktpZ6Sw=\");\nexport default useHttpFood;","map":{"version":3,"names":["useCallback","useState","useHttpFood","isLoading","setIsLoading","error","setError","sendData","url","method","newData","headers","applyData","res","fetch","body","JSON","stringify","ok","Error","data","json","err","message"],"sources":["/home/lcom/Project/food-mall/src/components/Context/useHttpFood.jsx"],"sourcesContent":["import { useCallback, useState } from \"react\";\n\nconst useHttpFood = () => {\n    const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n    const sendData = useCallback(async (url, method = 'GET', newData, headers , applyData ) => {\n        setIsLoading(true);\n        setError(null);\n        try {\n        const res = await fetch(url, {\n                method : method,\n                body : newData ? JSON.stringify(newData) : null,\n                headers : headers ? {\n                    \"Content-Type\": \"application/json\",\n                } : {},\n            })\n                 if (!res.ok) {\n                    throw new Error(\"Request failed!\");\n                    }\n            const data = await res.json();\n            applyData(data)\n        } catch (err) {\n            setError(err.message || \"Something went wrong!\");\n        }\n        setIsLoading(false);\n            },[])\n    return [sendData , isLoading , error ];\n}\n\nexport default useHttpFood"],"mappings":";AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAE7C,MAAMC,WAAW,GAAG,MAAM;EAAA;EACtB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGH,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMM,QAAQ,GAAGP,WAAW,CAAC,gBAAOQ,GAAG,EAAoD;IAAA,IAAlDC,MAAM,uEAAG,KAAK;IAAA,IAAEC,OAAO;IAAA,IAAEC,OAAO;IAAA,IAAGC,SAAS;IACjFR,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACJ,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAE;QACrBC,MAAM,EAAGA,MAAM;QACfM,IAAI,EAAGL,OAAO,GAAGM,IAAI,CAACC,SAAS,CAACP,OAAO,CAAC,GAAG,IAAI;QAC/CC,OAAO,EAAGA,OAAO,GAAG;UAChB,cAAc,EAAE;QACpB,CAAC,GAAG,CAAC;MACT,CAAC,CAAC;MACG,IAAI,CAACE,GAAG,CAACK,EAAE,EAAE;QACV,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;MAClC;MACR,MAAMC,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,EAAE;MAC7BT,SAAS,CAACQ,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACVhB,QAAQ,CAACgB,GAAG,CAACC,OAAO,IAAI,uBAAuB,CAAC;IACpD;IACAnB,YAAY,CAAC,KAAK,CAAC;EACf,CAAC,EAAC,EAAE,CAAC;EACb,OAAO,CAACG,QAAQ,EAAGJ,SAAS,EAAGE,KAAK,CAAE;AAC1C,CAAC;AAAA,GA1BKH,WAAW;AA4BjB,eAAeA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}